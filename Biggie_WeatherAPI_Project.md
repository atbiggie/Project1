Biggie\_WeatherProject
================
Autumn Biggie
10/3/2021

Load API packages.

``` r
library(httr)
library(jsonlite)
```

``` r
library(tidyverse)
```

Access the OpenWeather API.

``` r
weather.api <- function(latitude, longitude, exclude = NULL, api.id = "27667529a1629f208f81fded8f7552af") {
  base <- "https://api.openweathermap.org/data/2.5/onecall"
  lat1 <- "lat="
  lat2 <- latitude
  lon1 <- "lon="
  lon2 <- longitude
  exc1 <- "exclude="
  exc2 <- tolower(sub(" ", "", exclude))
  apid1 <- "appid="
  apid2 <- api.id
  
  lat <- paste(lat1, lat2, sep = "")
  lon <- paste(lon1, lon2, sep = "")
  ifelse(!is.null(exc2), exc <- paste(exc1, exc2, sep = ""), exc <- "nullexclude")
  apid <- paste(apid1, apid2, sep = "")
  
  first <- paste(base, lat, sep = "?")
  ifelse(!is.null(exc2), my.url <- paste(first, lon, exc, apid, sep = "&"), my.url <- paste(first, lon, apid, sep = "&"))
  
  #access the Weather API using the URL assembled above
  weather.info <- GET(my.url)
  
  #convert the content of the accessed data from raw to character, then present in readable data frame format
  final <- weather.info$content %>% rawToChar() %>% fromJSON()

return(final)
}
```

``` r
weather.api(latitude = "33.045", longitude = "-94.04")
```

    ## $lat
    ## [1] 33.045
    ## 
    ## $lon
    ## [1] -94.04
    ## 
    ## $timezone
    ## [1] "America/Chicago"
    ## 
    ## $timezone_offset
    ## [1] -18000
    ## 
    ## $current
    ## $current$dt
    ## [1] 1633290823
    ## 
    ## $current$sunrise
    ## [1] 1633263107
    ## 
    ## $current$sunset
    ## [1] 1633305490
    ## 
    ## $current$temp
    ## [1] 302.2
    ## 
    ## $current$feels_like
    ## [1] 303
    ## 
    ## $current$pressure
    ## [1] 1013
    ## 
    ## $current$humidity
    ## [1] 51
    ## 
    ## $current$dew_point
    ## [1] 291.04
    ## 
    ## $current$uvi
    ## [1] 5.07
    ## 
    ## $current$clouds
    ## [1] 1
    ## 
    ## $current$visibility
    ## [1] 10000
    ## 
    ## $current$wind_speed
    ## [1] 2.78
    ## 
    ## $current$wind_deg
    ## [1] 324
    ## 
    ## $current$wind_gust
    ## [1] 3.81
    ## 
    ## $current$weather
    ##    id  main description icon
    ## 1 800 Clear   clear sky  01d
    ## 
    ## 
    ## $minutely
    ##            dt precipitation
    ## 1  1633290840             0
    ## 2  1633290900             0
    ## 3  1633290960             0
    ## 4  1633291020             0
    ## 5  1633291080             0
    ## 6  1633291140             0
    ## 7  1633291200             0
    ## 8  1633291260             0
    ## 9  1633291320             0
    ## 10 1633291380             0
    ## 11 1633291440             0
    ## 12 1633291500             0
    ## 13 1633291560             0
    ## 14 1633291620             0
    ## 15 1633291680             0
    ## 16 1633291740             0
    ## 17 1633291800             0
    ## 18 1633291860             0
    ## 19 1633291920             0
    ## 20 1633291980             0
    ## 21 1633292040             0
    ## 22 1633292100             0
    ## 23 1633292160             0
    ## 24 1633292220             0
    ## 25 1633292280             0
    ## 26 1633292340             0
    ## 27 1633292400             0
    ## 28 1633292460             0
    ## 29 1633292520             0
    ## 30 1633292580             0
    ## 31 1633292640             0
    ## 32 1633292700             0
    ## 33 1633292760             0
    ## 34 1633292820             0
    ## 35 1633292880             0
    ## 36 1633292940             0
    ## 37 1633293000             0
    ## 38 1633293060             0
    ## 39 1633293120             0
    ## 40 1633293180             0
    ## 41 1633293240             0
    ## 42 1633293300             0
    ## 43 1633293360             0
    ## 44 1633293420             0
    ## 45 1633293480             0
    ## 46 1633293540             0
    ## 47 1633293600             0
    ## 48 1633293660             0
    ## 49 1633293720             0
    ## 50 1633293780             0
    ## 51 1633293840             0
    ## 52 1633293900             0
    ## 53 1633293960             0
    ## 54 1633294020             0
    ## 55 1633294080             0
    ## 56 1633294140             0
    ## 57 1633294200             0
    ## 58 1633294260             0
    ## 59 1633294320             0
    ## 60 1633294380             0
    ## 61 1633294440             0
    ## 
    ## $hourly
    ##            dt   temp feels_like pressure humidity dew_point  uvi clouds
    ## 1  1633287600 302.43     302.93     1013       48    290.29 6.39      1
    ## 2  1633291200 302.20     303.00     1013       51    291.04 5.07      1
    ## 3  1633294800 302.48     302.99     1013       48    290.34 3.19      7
    ## 4  1633298400 302.47     302.73     1013       46    289.66 1.44     19
    ## 5  1633302000 301.17     301.53     1013       49    289.47 0.42     35
    ## 6  1633305600 299.05     299.08     1013       53    288.75 0.00     52
    ## 7  1633309200 297.13     297.05     1014       56    287.63 0.00    100
    ## 8  1633312800 296.22     296.10     1014       58    287.55 0.00     97
    ## 9  1633316400 294.98     294.84     1015       62    287.34 0.00     98
    ## 10 1633320000 294.45     294.28     1015       63    287.17 0.00     98
    ## 11 1633323600 293.97     293.80     1014       65    287.00 0.00     98
    ## 12 1633327200 293.28     293.10     1014       67    286.95 0.00     93
    ## 13 1633330800 292.86     292.66     1014       68    286.87 0.00      9
    ## 14 1633334400 292.52     292.31     1014       69    286.73 0.00      5
    ## 15 1633338000 292.11     291.92     1014       71    286.60 0.00      4
    ## 16 1633341600 291.65     291.46     1014       73    286.64 0.00      5
    ## 17 1633345200 291.35     291.16     1014       74    286.62 0.00      6
    ## 18 1633348800 291.15     290.96     1015       75    286.59 0.00     12
    ## 19 1633352400 292.11     291.97     1015       73    287.17 0.10     73
    ## 20 1633356000 294.85     294.75     1016       64    287.69 0.64     86
    ## 21 1633359600 297.66     297.58     1016       54    287.70 1.79     80
    ## 22 1633363200 299.32     299.32     1016       47    287.15 3.55     77
    ## 23 1633366800 300.38     300.29     1016       42    286.46 5.11     76
    ## 24 1633370400 302.13     301.41     1015       36    285.56 5.94     67
    ## 25 1633374000 302.86     301.78     1014       32    284.51 5.65      0
    ## 26 1633377600 303.28     302.02     1013       30    283.80 4.49      0
    ## 27 1633381200 303.21     301.89     1013       29    283.11 2.83      4
    ## 28 1633384800 302.52     301.28     1013       29    282.75 1.31      9
    ## 29 1633388400 300.18     299.94     1013       38    284.66 0.38     12
    ## 30 1633392000 296.31     295.86     1014       45    283.79 0.00     11
    ## 31 1633395600 295.06     294.53     1014       47    283.29 0.00      6
    ## 32 1633399200 293.69     293.18     1015       53    283.72 0.00      4
    ## 33 1633402800 292.67     292.30     1015       62    285.24 0.00      3
    ## 34 1633406400 292.16     291.94     1015       70    286.42 0.00      2
    ## 35 1633410000 291.77     291.59     1015       73    286.83 0.00      2
    ## 36 1633413600 291.53     291.36     1015       74    286.78 0.00      1
    ## 37 1633417200 291.27     291.07     1015       74    286.59 0.00      0
    ## 38 1633420800 290.88     290.67     1015       75    286.40 0.00      0
    ## 39 1633424400 290.41     290.20     1015       77    286.36 0.00      0
    ## 40 1633428000 289.89     289.71     1015       80    286.30 0.00      3
    ## 41 1633431600 289.49     289.29     1016       81    286.24 0.00      6
    ## 42 1633435200 289.29     289.10     1016       82    286.24 0.00     10
    ## 43 1633438800 290.60     290.44     1017       78    286.76 0.10     50
    ## 44 1633442400 293.78     293.62     1017       66    287.21 0.66     42
    ## 45 1633446000 296.38     296.27     1017       58    287.72 1.84     39
    ## 46 1633449600 298.78     298.73     1017       51    287.93 3.41     33
    ## 47 1633453200 300.29     300.45     1016       46    287.68 4.90     44
    ## 48 1633456800 301.63     301.25     1016       40    286.65 5.70     50
    ##    visibility wind_speed wind_deg wind_gust                            weather
    ## 1       10000       2.64      326      3.74         800, Clear, clear sky, 01d
    ## 2       10000       2.78      324      3.81         800, Clear, clear sky, 01d
    ## 3       10000       3.06      329      3.79         800, Clear, clear sky, 01d
    ## 4       10000       3.04      333      3.69       801, Clouds, few clouds, 02d
    ## 5       10000       2.53      335      5.59 802, Clouds, scattered clouds, 03d
    ## 6       10000       2.42      336      6.85    803, Clouds, broken clouds, 04n
    ## 7       10000       2.41      327      7.29  804, Clouds, overcast clouds, 04n
    ## 8       10000       2.45      317      7.06  804, Clouds, overcast clouds, 04n
    ## 9       10000       2.34      316      6.03  804, Clouds, overcast clouds, 04n
    ## 10      10000       2.21      315      5.18  804, Clouds, overcast clouds, 04n
    ## 11      10000       2.20      318      5.74  804, Clouds, overcast clouds, 04n
    ## 12      10000       2.13      318      4.80  804, Clouds, overcast clouds, 04n
    ## 13      10000       2.06      322      3.81         800, Clear, clear sky, 01n
    ## 14      10000       1.98      327      2.82         800, Clear, clear sky, 01n
    ## 15      10000       2.01      328      3.07         800, Clear, clear sky, 01n
    ## 16      10000       1.96      334      2.92         800, Clear, clear sky, 01n
    ## 17      10000       2.05      340      3.29         800, Clear, clear sky, 01n
    ## 18      10000       1.99      347      3.27       801, Clouds, few clouds, 02n
    ## 19      10000       1.67      356      3.99    803, Clouds, broken clouds, 04d
    ## 20      10000       2.18       14      4.35  804, Clouds, overcast clouds, 04d
    ## 21      10000       2.68       21      4.97    803, Clouds, broken clouds, 04d
    ## 22      10000       3.02       28      4.87    803, Clouds, broken clouds, 04d
    ## 23      10000       2.94       25      3.82    803, Clouds, broken clouds, 04d
    ## 24      10000       2.75       16      3.51    803, Clouds, broken clouds, 04d
    ## 25      10000       2.43       12      3.52         800, Clear, clear sky, 01d
    ## 26      10000       2.48        8      4.07         800, Clear, clear sky, 01d
    ## 27      10000       3.07        8      4.05         800, Clear, clear sky, 01d
    ## 28      10000       3.26       10      3.76         800, Clear, clear sky, 01d
    ## 29      10000       2.27       18      4.55       801, Clouds, few clouds, 02d
    ## 30      10000       1.96       22      2.07       801, Clouds, few clouds, 02n
    ## 31      10000       2.00       14      2.19         800, Clear, clear sky, 01n
    ## 32      10000       2.25       12      3.92         800, Clear, clear sky, 01n
    ## 33      10000       1.95       18      2.20         800, Clear, clear sky, 01n
    ## 34      10000       1.96       25      2.21         800, Clear, clear sky, 01n
    ## 35      10000       2.05       34      3.26         800, Clear, clear sky, 01n
    ## 36      10000       1.81       46      2.03         800, Clear, clear sky, 01n
    ## 37      10000       1.38       51      1.42         800, Clear, clear sky, 01n
    ## 38      10000       1.08       19      1.16         800, Clear, clear sky, 01n
    ## 39      10000       1.40      348      1.38         800, Clear, clear sky, 01n
    ## 40      10000       1.58      354      1.57         800, Clear, clear sky, 01n
    ## 41      10000       1.92      351      2.00         800, Clear, clear sky, 01n
    ## 42      10000       2.05      352      2.76         800, Clear, clear sky, 01n
    ## 43      10000       1.74      359      3.81 802, Clouds, scattered clouds, 03d
    ## 44      10000       1.95       21      3.58 802, Clouds, scattered clouds, 03d
    ## 45      10000       1.96       26      3.53 802, Clouds, scattered clouds, 03d
    ## 46      10000       2.06       34      3.35 802, Clouds, scattered clouds, 03d
    ## 47      10000       2.20       40      3.09 802, Clouds, scattered clouds, 03d
    ## 48      10000       2.38       42      3.45 802, Clouds, scattered clouds, 03d
    ##    pop
    ## 1    0
    ## 2    0
    ## 3    0
    ## 4    0
    ## 5    0
    ## 6    0
    ## 7    0
    ## 8    0
    ## 9    0
    ## 10   0
    ## 11   0
    ## 12   0
    ## 13   0
    ## 14   0
    ## 15   0
    ## 16   0
    ## 17   0
    ## 18   0
    ## 19   0
    ## 20   0
    ## 21   0
    ## 22   0
    ## 23   0
    ## 24   0
    ## 25   0
    ## 26   0
    ## 27   0
    ## 28   0
    ## 29   0
    ## 30   0
    ## 31   0
    ## 32   0
    ## 33   0
    ## 34   0
    ## 35   0
    ## 36   0
    ## 37   0
    ## 38   0
    ## 39   0
    ## 40   0
    ## 41   0
    ## 42   0
    ## 43   0
    ## 44   0
    ## 45   0
    ## 46   0
    ## 47   0
    ## 48   0
    ## 
    ## $daily
    ##           dt    sunrise     sunset   moonrise    moonset moon_phase temp.day
    ## 1 1633284000 1633263107 1633305490 1633251660 1633301160       0.90   302.41
    ## 2 1633370400 1633349549 1633391810 1633341960 1633389480       0.94   302.13
    ## 3 1633456800 1633435991 1633478131 1633432260 1633477800       0.97   301.63
    ## 4 1633543200 1633522433 1633564452 1633522740 1633566180       0.00   302.05
    ## 5 1633629600 1633608875 1633650775 1633613220 1633654620       0.05   303.36
    ## 6 1633716000 1633695318 1633737097 1633703880 1633743300       0.09   304.93
    ## 7 1633802400 1633781761 1633823420 1633794600 1633832340       0.12   304.86
    ## 8 1633888800 1633868205 1633909744 1633885320 1633921680       0.16   304.36
    ##   temp.min temp.max temp.night temp.eve temp.morn feels_like.day
    ## 1   292.22   302.48     294.45   299.05    292.72         302.78
    ## 2   291.15   303.28     292.16   296.31    291.15         301.41
    ## 3   289.29   302.34     291.60   295.35    289.29         301.25
    ## 4   289.56   302.05     295.31   296.55    289.56         301.49
    ## 5   290.22   304.59     294.60   297.21    290.22         302.26
    ## 6   290.53   305.78     296.58   298.55    290.53         303.95
    ## 7   291.78   305.70     296.28   299.15    291.78         304.40
    ## 8   292.05   305.09     296.31   299.06    292.05         304.34
    ##   feels_like.night feels_like.eve feels_like.morn pressure humidity dew_point
    ## 1           294.28         299.08          293.21     1014       47    289.94
    ## 2           291.94         295.86          290.96     1015       36    285.56
    ## 3           291.43         295.11          289.10     1016       40    286.65
    ## 4           294.97         296.25          289.35     1017       38    286.21
    ## 5           294.26         296.95          289.97     1018       32    285.17
    ## 6           296.34         298.45          290.31     1018       32    286.26
    ## 7           296.19         299.15          291.66     1018       36    287.86
    ## 8           296.40         299.14          292.08     1018       40    289.14
    ##   wind_speed wind_deg wind_gust                            weather clouds  pop
    ## 1       3.06      329      7.29         500, Rain, light rain, 10d      6 0.99
    ## 2       3.26       10      5.74    803, Clouds, broken clouds, 04d     67 0.00
    ## 3       3.53       56      6.65 802, Clouds, scattered clouds, 03d     50 0.00
    ## 4       1.85      121      2.61       801, Clouds, few clouds, 02d     21 0.00
    ## 5       2.19      207      4.04         800, Clear, clear sky, 01d      6 0.00
    ## 6       2.39      137      4.42         800, Clear, clear sky, 01d      7 0.00
    ## 7       2.87      158      7.36         800, Clear, clear sky, 01d      0 0.00
    ## 8       2.54      144      6.93         800, Clear, clear sky, 01d      0 0.00
    ##   rain  uvi
    ## 1 2.95 6.63
    ## 2   NA 5.94
    ## 3   NA 5.70
    ## 4   NA 5.81
    ## 5   NA 6.33
    ## 6   NA 7.00
    ## 7   NA 7.00
    ## 8   NA 7.00
