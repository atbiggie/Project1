How to Access an API with an Example
================
Autumn Biggie
10/3/2021

  - [Preliminary Steps](#preliminary-steps)
  - [Function to Access API](#function-to-access-api)
  - [Exploratory Data Analysis](#exploratory-data-analysis)
      - [Data Cleaning](#data-cleaning)
      - [Create New Variables](#create-new-variables)
      - [Contingency Tables](#contingency-tables)
      - [Numerical Summaries](#numerical-summaries)
      - [Data Visualization](#data-visualization)
  - [Final Thoughts](#final-thoughts)

In this document, we’ll walk through how to connect to an API, using an
example. The API we’ll be connecting to is the [OpenWeather
API](https://openweathermap.org/api). Specifically, we’ll be looking at
current and forecast weather data from the [One Call
API](https://openweathermap.org/api/one-call-api#history), one of the
many APIs that openweathermap.org offers.

## Preliminary Steps

1.  Many APIs require you to access the data using a unique API key. To
    acquire your free API key, register
    [here](https://home.openweathermap.org/users/sign_up).

2.  The following packages will be necessary in order to connect with
    the API:
    
      - `httr`  
      - `jsonlite`

3.  The following packages will be necessary in order to do some
    analyses after we load the data:
    
      - `tidyverse`  
      - `anytime`  
      - `ggplot2`
      - `chron`
      - `leaflet`

## Function to Access API

Here, I’ve written a function `weather.api` to be able to easily access
the target API. The arguments are as follows:

  - `latitude`(required): latitude of the geographic location desired  
  - `longitude`(required): longitude of the geographic location
    desired  
  - `api.id`(required): input your unique API key here  
  - `exclude`(optional): list any parts of the weather data you want to
    exclude from the results. This should be a comma-delimited list,
    with or without spaces. Case is unimportant. The options are:
      - `current`  
      - `minutely`  
      - `hourly`  
      - `daily`  
  - `units` (optional): The unit of measurement in which values are
    returned. Options are:
      - `standard`  
      - `imperial`  
      - `metric`

Note: All parameters should be in character format i.e. `latitude =
"-46.05"`.

``` r
weather.api <- function(latitude, longitude, api.id, exclude = NULL, units = "metric") {
  
  #assign the individual pieces of the required url to their respective objects  
  base <- "https://api.openweathermap.org/data/2.5/onecall"
  lat1 <- "lat="
  lat2 <- latitude
  lon1 <- "lon="
  lon2 <- longitude
  exc1 <- "exclude="
  exc2 <- tolower(sub(" ", "", exclude)) #remove spaces and convert to lowercase  
  apid1 <- "appid="
  apid2 <- api.id
  units1 <- "units="
  units2 <- units
  
  #paste pieces together  
  lat <- paste(lat1, lat2, sep = "")
  lon <- paste(lon1, lon2, sep = "")  
  ifelse(!is.null(exc2), exc <- paste(exc1, exc2, sep = ""), exc <- "nullexclude")
  apid <- paste(apid1, apid2, sep = "")
  units <- paste(units1, units2, sep = "")
  
  #paste base and latitude pieces together  
  first <- paste(base, lat, sep = "?")
  
  #create the entire url by pasting all pieces together using delimiter "&", conditioning on if any information is excluded  
  ifelse(!is.null(exc2), my.url <- paste(first, lon, exc, apid, units, sep = "&"), my.url <- paste(first, lon, apid, units, sep = "&"))
  
  #access the Weather API using the URL assembled above
  weather.info <- GET(my.url)
  
  #convert the content of the accessed data from raw to character, then present in readable data frame format
  final <- weather.info$content %>% rawToChar() %>% fromJSON()

return(final)
}
```

## Exploratory Data Analysis

Now that we can easily access the API, let’s do some exploratory data
analysis.

I want to explore the weather data of five locations that lie roughly
along the same line of longitude.

<div id="htmlwidget-6387a04fa883eda73568" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6387a04fa883eda73568">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[0,-80],1,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[44.19,21.28,7.54,-55.05,-51.38],[-69.47,-71.08,-72.3,-67.05,-69.13],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Augusta, Maine, US","Cockburn Town, Turks & Caicos Islands","Cucata, Colombia","Puerto Toro, Chile","Rio Gallegos, Argentina"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-55.05,44.19],"lng":[-72.3,-67.05]}},"evals":[],"jsHooks":[]}</script>

Locations:

  - 44.19’N, 69.47’W (Augusta, Maine, US)  
  - 21.28’N, 71.08’W (Cockburn Town, Turks & Caicos Islands, UK)  
  - 7.54’N, 72.3’W (Cucata, Colombia)  
  - 51.38’S, 69.13’W (Rio Gallegos, Argentina)
  - 55.05’S, 67.05’W (Puerto Toro, Chile)

<!-- end list -->

``` r
Maine <- weather.api(latitude = "44.19", longitude = "-69.47", api.id = "27667529a1629f208f81fded8f7552af", exclude = "current, minutely, hourly")

Maine.day <- Maine$daily

Maine.day
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["dt"],"name":[1],"type":["int"],"align":["right"]},{"label":["sunrise"],"name":[2],"type":["int"],"align":["right"]},{"label":["sunset"],"name":[3],"type":["int"],"align":["right"]},{"label":["moonrise"],"name":[4],"type":["int"],"align":["right"]},{"label":["moonset"],"name":[5],"type":["int"],"align":["right"]},{"label":["moon_phase"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["temp"],"name":[7],"type":["df[,6]"],"align":["right"]},{"label":["feels_like"],"name":[8],"type":["df[,4]"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["weather"],"name":[15],"type":["list"],"align":["right"]},{"label":["clouds"],"name":[16],"type":["int"],"align":["right"]},{"label":["pop"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["uvi"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"1633363200","2":"1633343957","3":"1633385611","4":"1633334820","5":"1633384140","6":"0.93","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1021","10":"50","11":"5.14","12":"2.52","13":"36","14":"8.33","15":"<df[,4] [1 × 4]>","16":"83","17":"0.29","18":"4.00","_rn_":"1"},{"1":"1633449600","2":"1633430429","3":"1633471902","4":"1633425720","5":"1633471920","6":"0.97","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1026","10":"69","11":"7.40","12":"1.41","13":"20","14":"1.70","15":"<df[,4] [1 × 4]>","16":"100","17":"0.11","18":"3.41","_rn_":"2"},{"1":"1633536000","2":"1633516901","3":"1633558193","4":"1633516680","5":"1633559760","6":"0.00","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1027","10":"53","11":"9.79","12":"1.65","13":"351","14":"2.54","15":"<df[,4] [1 × 4]>","16":"7","17":"0.00","18":"4.10","_rn_":"3"},{"1":"1633622400","2":"1633603373","3":"1633644485","4":"1633607760","5":"1633647660","6":"0.05","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1024","10":"53","11":"9.11","12":"1.67","13":"338","14":"2.52","15":"<df[,4] [1 × 4]>","16":"0","17":"0.00","18":"3.91","_rn_":"4"},{"1":"1633708800","2":"1633689846","3":"1633730778","4":"1633698900","5":"1633735860","6":"0.08","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1019","10":"54","11":"10.29","12":"3.25","13":"56","14":"9.55","15":"<df[,4] [1 × 4]>","16":"7","17":"0.00","18":"3.58","_rn_":"5"},{"1":"1633795200","2":"1633776319","3":"1633817071","4":"1633790160","5":"1633824300","6":"0.12","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1031","10":"63","11":"4.80","12":"2.56","13":"72","14":"6.38","15":"<df[,4] [1 × 4]>","16":"100","17":"0.00","18":"0.13","_rn_":"6"},{"1":"1633881600","2":"1633862792","3":"1633903365","4":"1633881360","5":"1633913280","6":"0.16","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1031","10":"60","11":"6.36","12":"3.22","13":"186","14":"5.36","15":"<df[,4] [1 × 4]>","16":"100","17":"0.00","18":"1.00","_rn_":"7"},{"1":"1633968000","2":"1633949266","3":"1633989660","4":"1633972140","5":"1634002920","6":"0.20","7":"<df[,6] [8 × 6]>","8":"<df[,4] [8 × 4]>","9":"1024","10":"68","11":"10.37","12":"5.05","13":"208","14":"10.67","15":"<df[,4] [1 × 4]>","16":"100","17":"0.00","18":"1.00","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

### Data Cleaning

Let’s convert all dates/times that are in unix form to a date/time
stamp.

``` r
Maine.day$dt <- anydate(Maine.day$dt)
Maine.day$sunrise <- anytime(Maine.day$sunrise)
Maine.day$sunset <- anytime(Maine.day$sunset)
Maine.day$moonrise <- anytime(Maine.day$moonrise)
Maine.day$moonset <- anytime(Maine.day$moonset)
```

Convert the `dt` variable into three variables, `Year`, `Month`, `Day`,
and then change `sunrise`, `sunset`, `moonrise`, and `moonset` to only
include timestamps.

``` r
Maine.day <- Maine.day %>% separate(dt, c("Year", "Month", "Day"), sep = "-", convert = TRUE, remove = TRUE)

#change sunrise, sunset, moonrise, and moonset to only include timestamps

Maine.day <- Maine.day %>% separate(sunrise, c("Date", "Sunrise"), sep = " ", remove = TRUE) %>% subset(select = -Date)

Maine.day <- Maine.day %>% separate(sunset, c("Date", "Sunset"), sep = " ", remove = TRUE) %>% subset(select = -Date)

Maine.day <- Maine.day %>% separate(moonrise, c("Date", "Moonrise"), sep = " ", remove = TRUE) %>% subset(select = -Date)

Maine.day <- Maine.day %>% separate(moonset, c("Date", "Moonset"), sep = " ", remove = TRUE) %>% subset(select = -Date)
```

Lastly, combine the nested `temp` dataframe with `Maine.day` to create a
new dataframe called `Maine.day1`, removing unwanted variables.

``` r
Maine.day1 <- data.frame(Maine.day, Maine.day$temp) %>% select(Year:moon_phase, pressure:wind_gust, clouds, pop, min, max) %>% rename(mintemp = min, maxtemp = max)

Maine.day1
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["Month"],"name":[2],"type":["int"],"align":["right"]},{"label":["Day"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[15],"type":["int"],"align":["right"]},{"label":["pop"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"10","3":"4","4":"06:39:17","5":"18:13:31","6":"04:07:00","7":"17:49:00","8":"0.93","9":"1021","10":"50","11":"5.14","12":"2.52","13":"36","14":"8.33","15":"83","16":"0.29","17":"5.47","18":"16.99","_rn_":"1"},{"1":"2021","2":"10","3":"5","4":"06:40:29","5":"18:11:42","6":"05:22:00","7":"18:12:00","8":"0.97","9":"1026","10":"69","11":"7.40","12":"1.41","13":"20","14":"1.70","15":"100","16":"0.11","17":"8.09","18":"16.60","_rn_":"2"},{"1":"2021","2":"10","3":"6","4":"06:41:41","5":"18:09:53","6":"06:38:00","7":"18:36:00","8":"0.00","9":"1027","10":"53","11":"9.79","12":"1.65","13":"351","14":"2.54","15":"7","16":"0.00","17":"7.91","18":"20.93","_rn_":"3"},{"1":"2021","2":"10","3":"7","4":"06:42:53","5":"18:08:05","6":"07:56:00","7":"19:01:00","8":"0.05","9":"1024","10":"53","11":"9.11","12":"1.67","13":"338","14":"2.52","15":"0","16":"0.00","17":"9.69","18":"21.76","_rn_":"4"},{"1":"2021","2":"10","3":"8","4":"06:44:06","5":"18:06:18","6":"09:15:00","7":"19:31:00","8":"0.08","9":"1019","10":"54","11":"10.29","12":"3.25","13":"56","14":"9.55","15":"7","16":"0.00","17":"10.12","18":"22.75","_rn_":"5"},{"1":"2021","2":"10","3":"9","4":"06:45:19","5":"18:04:31","6":"10:36:00","7":"20:05:00","8":"0.12","9":"1031","10":"63","11":"4.80","12":"2.56","13":"72","14":"6.38","15":"100","16":"0.00","17":"9.63","18":"12.82","_rn_":"6"},{"1":"2021","2":"10","3":"10","4":"06:46:32","5":"18:02:45","6":"11:56:00","7":"20:48:00","8":"0.16","9":"1031","10":"60","11":"6.36","12":"3.22","13":"186","14":"5.36","15":"100","16":"0.00","17":"8.57","18":"15.30","_rn_":"7"},{"1":"2021","2":"10","3":"11","4":"06:47:46","5":"18:01:00","6":"13:09:00","7":"21:42:00","8":"0.20","9":"1024","10":"68","11":"10.37","12":"5.05","13":"208","14":"10.67","15":"100","16":"0.00","17":"8.85","18":"17.69","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

Awesome\! Remember to clean the data returned from the other locations
too.

``` r
Turks.day1
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["Month"],"name":[2],"type":["int"],"align":["right"]},{"label":["Day"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[15],"type":["int"],"align":["right"]},{"label":["pop"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"10","3":"4","4":"06:36:17","5":"18:29:23","6":"04:42:00","7":"17:36:00","8":"0.93","9":"1014","10":"74","11":"23.78","12":"10.18","13":"119","14":"10.94","15":"100","16":"1.00","17":"26.97","18":"29.01","_rn_":"1"},{"1":"2021","2":"10","3":"5","4":"06:36:35","5":"18:28:29","6":"05:41:00","7":"18:15:00","8":"0.97","9":"1015","10":"72","11":"23.15","12":"11.44","13":"100","14":"12.42","15":"75","16":"1.00","17":"28.37","18":"28.82","_rn_":"2"},{"1":"2021","2":"10","3":"6","4":"06:36:52","5":"18:27:34","6":"06:40:00","7":"18:54:00","8":"0.00","9":"1016","10":"73","11":"23.58","12":"11.28","13":"99","14":"12.36","15":"8","16":"0.55","17":"28.31","18":"28.86","_rn_":"3"},{"1":"2021","2":"10","3":"7","4":"06:37:11","5":"18:26:40","6":"07:42:00","7":"19:35:00","8":"0.05","9":"1016","10":"73","11":"23.30","12":"10.03","13":"92","14":"10.91","15":"6","16":"0.79","17":"27.95","18":"28.72","_rn_":"4"},{"1":"2021","2":"10","3":"8","4":"06:37:29","5":"18:25:47","6":"08:45:00","7":"20:19:00","8":"0.08","9":"1014","10":"76","11":"23.82","12":"7.80","13":"99","14":"8.09","15":"4","16":"0.57","17":"28.18","18":"28.83","_rn_":"5"},{"1":"2021","2":"10","3":"9","4":"06:37:48","5":"18:24:55","6":"09:51:00","7":"21:09:00","8":"0.12","9":"1014","10":"77","11":"24.25","12":"8.30","13":"119","14":"8.74","15":"99","16":"0.97","17":"28.58","18":"28.95","_rn_":"6"},{"1":"2021","2":"10","3":"10","4":"06:38:08","5":"18:24:02","6":"10:58:00","7":"22:03:00","8":"0.16","9":"1014","10":"74","11":"23.54","12":"8.35","13":"122","14":"8.53","15":"100","16":"1.00","17":"27.60","18":"28.76","_rn_":"7"},{"1":"2021","2":"10","3":"11","4":"06:38:27","5":"18:23:11","6":"12:03:00","7":"23:02:00","8":"0.20","9":"1014","10":"73","11":"23.21","12":"7.99","13":"130","14":"8.15","15":"96","16":"0.52","17":"28.52","18":"28.65","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

``` r
Colombia.day1
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["Month"],"name":[2],"type":["int"],"align":["right"]},{"label":["Day"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[15],"type":["int"],"align":["right"]},{"label":["pop"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"10","3":"4","4":"06:36:45","5":"18:38:41","6":"04:59:00","7":"17:33:00","8":"0.93","9":"1013","10":"58","11":"13.69","12":"2.96","13":"103","14":"4.12","15":"89","16":"0.77","17":"12.85","18":"21.87","_rn_":"1"},{"1":"2021","2":"10","3":"5","4":"06:36:38","5":"18:38:10","6":"05:51:00","7":"18:18:00","8":"0.97","9":"1014","10":"74","11":"15.74","12":"2.72","13":"110","14":"4.23","15":"92","16":"1.00","17":"12.82","18":"19.49","_rn_":"2"},{"1":"2021","2":"10","3":"6","4":"06:36:32","5":"18:37:40","6":"06:44:00","7":"19:04:00","8":"0.00","9":"1016","10":"87","11":"15.12","12":"2.45","13":"117","14":"4.31","15":"100","16":"0.95","17":"12.81","18":"18.95","_rn_":"3"},{"1":"2021","2":"10","3":"7","4":"06:36:26","5":"18:37:10","6":"07:38:00","7":"19:52:00","8":"0.05","9":"1015","10":"58","11":"13.00","12":"3.38","13":"106","14":"4.79","15":"74","16":"0.80","17":"11.97","18":"22.82","_rn_":"4"},{"1":"2021","2":"10","3":"8","4":"06:36:21","5":"18:36:41","6":"08:34:00","7":"20:43:00","8":"0.08","9":"1014","10":"56","11":"12.91","12":"2.53","13":"101","14":"3.40","15":"88","16":"1.00","17":"12.58","18":"21.10","_rn_":"5"},{"1":"2021","2":"10","3":"9","4":"06:36:16","5":"18:36:12","6":"09:34:00","7":"21:38:00","8":"0.12","9":"1017","10":"83","11":"14.25","12":"1.59","13":"246","14":"2.24","15":"100","16":"0.99","17":"13.13","18":"21.39","_rn_":"6"},{"1":"2021","2":"10","3":"10","4":"06:36:12","5":"18:35:43","6":"10:35:00","7":"22:36:00","8":"0.16","9":"1016","10":"80","11":"16.42","12":"1.92","13":"99","14":"2.37","15":"75","16":"1.00","17":"12.89","18":"19.97","_rn_":"7"},{"1":"2021","2":"10","3":"11","4":"06:36:08","5":"18:35:16","6":"11:39:00","7":"23:38:00","8":"0.20","9":"1016","10":"79","11":"15.49","12":"1.68","13":"90","14":"2.27","15":"97","16":"1.00","17":"13.35","18":"18.80","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

``` r
Chile.day1
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["Month"],"name":[2],"type":["int"],"align":["right"]},{"label":["Day"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[15],"type":["int"],"align":["right"]},{"label":["pop"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"10","3":"4","4":"05:45:02","5":"18:48:25","6":"05:49:00","7":"16:16:00","8":"0.93","9":"997","10":"66","11":"-0.99","12":"12.76","13":"258","14":"23.26","15":"45","16":"0.84","17":"2.21","18":"5.49","_rn_":"1"},{"1":"2021","2":"10","3":"5","4":"05:42:28","5":"18:50:21","6":"06:01:00","7":"17:44:00","8":"0.97","9":"1017","10":"68","11":"-0.82","12":"10.20","13":"236","14":"17.31","15":"38","16":"0.92","17":"1.96","18":"6.54","_rn_":"2"},{"1":"2021","2":"10","3":"6","4":"05:39:55","5":"18:52:17","6":"06:13:00","7":"19:14:00","8":"0.00","9":"1001","10":"62","11":"2.25","12":"10.47","13":"254","14":"17.99","15":"27","16":"0.96","17":"1.41","18":"10.11","_rn_":"3"},{"1":"2021","2":"10","3":"7","4":"05:37:23","5":"18:54:14","6":"06:25:00","7":"20:47:00","8":"0.04","9":"1008","10":"54","11":"-2.05","12":"7.82","13":"249","14":"15.14","15":"67","16":"0.28","17":"3.03","18":"8.71","_rn_":"4"},{"1":"2021","2":"10","3":"8","4":"05:34:51","5":"18:56:11","6":"06:40:00","7":"22:21:00","8":"0.08","9":"993","10":"73","11":"3.32","12":"10.68","13":"247","14":"17.47","15":"99","16":"0.68","17":"4.49","18":"8.40","_rn_":"5"},{"1":"2021","2":"10","3":"9","4":"05:32:20","5":"18:58:09","6":"06:58:00","7":"19:00:00","8":"0.12","9":"987","10":"85","11":"4.16","12":"8.87","13":"323","14":"22.73","15":"100","16":"0.69","17":"2.31","18":"10.19","_rn_":"6"},{"1":"2021","2":"10","3":"10","4":"05:29:49","5":"19:00:07","6":"07:24:00","7":"23:56:00","8":"0.16","9":"1002","10":"60","11":"-1.33","12":"8.03","13":"269","14":"15.56","15":"100","16":"0.63","17":"2.62","18":"8.28","_rn_":"7"},{"1":"2021","2":"10","3":"11","4":"05:27:18","5":"19:02:06","6":"08:02:00","7":"01:23:00","8":"0.19","9":"982","10":"86","11":"2.08","12":"11.01","13":"250","14":"19.60","15":"98","16":"0.96","17":"3.50","18":"5.37","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

``` r
Argentina.day1
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["Month"],"name":[2],"type":["int"],"align":["right"]},{"label":["Day"],"name":[3],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[4],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[7],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[9],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[10],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[13],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[15],"type":["int"],"align":["right"]},{"label":["pop"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[18],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"10","3":"4","4":"05:57:04","5":"18:53:01","6":"05:49:00","7":"16:32:00","8":"0.93","9":"1007","10":"41","11":"-3.51","12":"15.58","13":"249","14":"23.00","15":"58","16":"0.00","17":"3.65","18":"9.31","_rn_":"1"},{"1":"2021","2":"10","3":"5","4":"05:54:48","5":"18:54:39","6":"06:06:00","7":"17:54:00","8":"0.97","9":"1021","10":"41","11":"-4.90","12":"13.76","13":"234","14":"19.32","15":"36","16":"0.00","17":"1.90","18":"9.31","_rn_":"2"},{"1":"2021","2":"10","3":"6","4":"05:52:32","5":"18:56:19","6":"06:23:00","7":"19:19:00","8":"0.00","9":"1012","10":"42","11":"-2.99","12":"12.69","13":"239","14":"19.06","15":"100","16":"0.07","17":"4.51","18":"11.70","_rn_":"3"},{"1":"2021","2":"10","3":"7","4":"05:50:17","5":"18:57:58","6":"06:40:00","7":"20:46:00","8":"0.04","9":"1014","10":"56","11":"1.71","12":"10.09","13":"243","14":"17.13","15":"100","16":"0.00","17":"4.25","18":"10.78","_rn_":"4"},{"1":"2021","2":"10","3":"8","4":"05:48:02","5":"18:59:38","6":"06:59:00","7":"22:15:00","8":"0.08","9":"1004","10":"53","11":"3.44","12":"12.36","13":"237","14":"14.92","15":"100","16":"0.00","17":"6.90","18":"12.70","_rn_":"5"},{"1":"2021","2":"10","3":"9","4":"05:45:48","5":"19:01:19","6":"07:22:00","7":"19:00:00","8":"0.12","9":"996","10":"44","11":"3.27","12":"16.68","13":"240","14":"22.57","15":"100","16":"0.26","17":"6.22","18":"18.22","_rn_":"6"},{"1":"2021","2":"10","3":"10","4":"05:43:34","5":"19:03:00","6":"07:54:00","7":"23:43:00","8":"0.16","9":"1007","10":"65","11":"-0.28","12":"10.56","13":"249","14":"17.61","15":"100","16":"0.00","17":"3.09","18":"7.75","_rn_":"7"},{"1":"2021","2":"10","3":"11","4":"05:41:21","5":"19:04:41","6":"08:37:00","7":"01:07:00","8":"0.19","9":"999","10":"43","11":"-4.09","12":"20.29","13":"252","14":"25.96","15":"37","16":"0.00","17":"4.83","18":"9.73","_rn_":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

Now, let’s combine all datasets into one called `weather`, creating a
new variable called `location`.

``` r
Maine.day1 <- Maine.day1 %>% mutate(location = "Maine, US")
Turks.day1 <- Turks.day1 %>% mutate(location = "Turks & Caicos")
Colombia.day1 <- Colombia.day1 %>% mutate(location = "Colombia")
Chile.day1 <- Chile.day1 %>% mutate(location = "Chile")
Argentina.day1 <- Argentina.day1 %>% mutate(location = "Argentina")

weather <- rbind(Maine.day1, Turks.day1, Colombia.day1, Argentina.day1, Chile.day1) %>% relocate(location, .before = Year)

weather
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["int"],"align":["right"]},{"label":["Month"],"name":[3],"type":["int"],"align":["right"]},{"label":["Day"],"name":[4],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[8],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[10],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[11],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[14],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[16],"type":["int"],"align":["right"]},{"label":["pop"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[19],"type":["dbl"],"align":["right"]}],"data":[{"1":"Maine, US","2":"2021","3":"10","4":"4","5":"06:39:17","6":"18:13:31","7":"04:07:00","8":"17:49:00","9":"0.93","10":"1021","11":"50","12":"5.14","13":"2.52","14":"36","15":"8.33","16":"83","17":"0.29","18":"5.47","19":"16.99"},{"1":"Maine, US","2":"2021","3":"10","4":"5","5":"06:40:29","6":"18:11:42","7":"05:22:00","8":"18:12:00","9":"0.97","10":"1026","11":"69","12":"7.40","13":"1.41","14":"20","15":"1.70","16":"100","17":"0.11","18":"8.09","19":"16.60"},{"1":"Maine, US","2":"2021","3":"10","4":"6","5":"06:41:41","6":"18:09:53","7":"06:38:00","8":"18:36:00","9":"0.00","10":"1027","11":"53","12":"9.79","13":"1.65","14":"351","15":"2.54","16":"7","17":"0.00","18":"7.91","19":"20.93"},{"1":"Maine, US","2":"2021","3":"10","4":"7","5":"06:42:53","6":"18:08:05","7":"07:56:00","8":"19:01:00","9":"0.05","10":"1024","11":"53","12":"9.11","13":"1.67","14":"338","15":"2.52","16":"0","17":"0.00","18":"9.69","19":"21.76"},{"1":"Maine, US","2":"2021","3":"10","4":"8","5":"06:44:06","6":"18:06:18","7":"09:15:00","8":"19:31:00","9":"0.08","10":"1019","11":"54","12":"10.29","13":"3.25","14":"56","15":"9.55","16":"7","17":"0.00","18":"10.12","19":"22.75"},{"1":"Maine, US","2":"2021","3":"10","4":"9","5":"06:45:19","6":"18:04:31","7":"10:36:00","8":"20:05:00","9":"0.12","10":"1031","11":"63","12":"4.80","13":"2.56","14":"72","15":"6.38","16":"100","17":"0.00","18":"9.63","19":"12.82"},{"1":"Maine, US","2":"2021","3":"10","4":"10","5":"06:46:32","6":"18:02:45","7":"11:56:00","8":"20:48:00","9":"0.16","10":"1031","11":"60","12":"6.36","13":"3.22","14":"186","15":"5.36","16":"100","17":"0.00","18":"8.57","19":"15.30"},{"1":"Maine, US","2":"2021","3":"10","4":"11","5":"06:47:46","6":"18:01:00","7":"13:09:00","8":"21:42:00","9":"0.20","10":"1024","11":"68","12":"10.37","13":"5.05","14":"208","15":"10.67","16":"100","17":"0.00","18":"8.85","19":"17.69"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"4","5":"06:36:17","6":"18:29:23","7":"04:42:00","8":"17:36:00","9":"0.93","10":"1014","11":"74","12":"23.78","13":"10.18","14":"119","15":"10.94","16":"100","17":"1.00","18":"26.97","19":"29.01"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"5","5":"06:36:35","6":"18:28:29","7":"05:41:00","8":"18:15:00","9":"0.97","10":"1015","11":"72","12":"23.15","13":"11.44","14":"100","15":"12.42","16":"75","17":"1.00","18":"28.37","19":"28.82"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"6","5":"06:36:52","6":"18:27:34","7":"06:40:00","8":"18:54:00","9":"0.00","10":"1016","11":"73","12":"23.58","13":"11.28","14":"99","15":"12.36","16":"8","17":"0.55","18":"28.31","19":"28.86"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"7","5":"06:37:11","6":"18:26:40","7":"07:42:00","8":"19:35:00","9":"0.05","10":"1016","11":"73","12":"23.30","13":"10.03","14":"92","15":"10.91","16":"6","17":"0.79","18":"27.95","19":"28.72"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"8","5":"06:37:29","6":"18:25:47","7":"08:45:00","8":"20:19:00","9":"0.08","10":"1014","11":"76","12":"23.82","13":"7.80","14":"99","15":"8.09","16":"4","17":"0.57","18":"28.18","19":"28.83"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"9","5":"06:37:48","6":"18:24:55","7":"09:51:00","8":"21:09:00","9":"0.12","10":"1014","11":"77","12":"24.25","13":"8.30","14":"119","15":"8.74","16":"99","17":"0.97","18":"28.58","19":"28.95"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"10","5":"06:38:08","6":"18:24:02","7":"10:58:00","8":"22:03:00","9":"0.16","10":"1014","11":"74","12":"23.54","13":"8.35","14":"122","15":"8.53","16":"100","17":"1.00","18":"27.60","19":"28.76"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"11","5":"06:38:27","6":"18:23:11","7":"12:03:00","8":"23:02:00","9":"0.20","10":"1014","11":"73","12":"23.21","13":"7.99","14":"130","15":"8.15","16":"96","17":"0.52","18":"28.52","19":"28.65"},{"1":"Colombia","2":"2021","3":"10","4":"4","5":"06:36:45","6":"18:38:41","7":"04:59:00","8":"17:33:00","9":"0.93","10":"1013","11":"58","12":"13.69","13":"2.96","14":"103","15":"4.12","16":"89","17":"0.77","18":"12.85","19":"21.87"},{"1":"Colombia","2":"2021","3":"10","4":"5","5":"06:36:38","6":"18:38:10","7":"05:51:00","8":"18:18:00","9":"0.97","10":"1014","11":"74","12":"15.74","13":"2.72","14":"110","15":"4.23","16":"92","17":"1.00","18":"12.82","19":"19.49"},{"1":"Colombia","2":"2021","3":"10","4":"6","5":"06:36:32","6":"18:37:40","7":"06:44:00","8":"19:04:00","9":"0.00","10":"1016","11":"87","12":"15.12","13":"2.45","14":"117","15":"4.31","16":"100","17":"0.95","18":"12.81","19":"18.95"},{"1":"Colombia","2":"2021","3":"10","4":"7","5":"06:36:26","6":"18:37:10","7":"07:38:00","8":"19:52:00","9":"0.05","10":"1015","11":"58","12":"13.00","13":"3.38","14":"106","15":"4.79","16":"74","17":"0.80","18":"11.97","19":"22.82"},{"1":"Colombia","2":"2021","3":"10","4":"8","5":"06:36:21","6":"18:36:41","7":"08:34:00","8":"20:43:00","9":"0.08","10":"1014","11":"56","12":"12.91","13":"2.53","14":"101","15":"3.40","16":"88","17":"1.00","18":"12.58","19":"21.10"},{"1":"Colombia","2":"2021","3":"10","4":"9","5":"06:36:16","6":"18:36:12","7":"09:34:00","8":"21:38:00","9":"0.12","10":"1017","11":"83","12":"14.25","13":"1.59","14":"246","15":"2.24","16":"100","17":"0.99","18":"13.13","19":"21.39"},{"1":"Colombia","2":"2021","3":"10","4":"10","5":"06:36:12","6":"18:35:43","7":"10:35:00","8":"22:36:00","9":"0.16","10":"1016","11":"80","12":"16.42","13":"1.92","14":"99","15":"2.37","16":"75","17":"1.00","18":"12.89","19":"19.97"},{"1":"Colombia","2":"2021","3":"10","4":"11","5":"06:36:08","6":"18:35:16","7":"11:39:00","8":"23:38:00","9":"0.20","10":"1016","11":"79","12":"15.49","13":"1.68","14":"90","15":"2.27","16":"97","17":"1.00","18":"13.35","19":"18.80"},{"1":"Argentina","2":"2021","3":"10","4":"4","5":"05:57:04","6":"18:53:01","7":"05:49:00","8":"16:32:00","9":"0.93","10":"1007","11":"41","12":"-3.51","13":"15.58","14":"249","15":"23.00","16":"58","17":"0.00","18":"3.65","19":"9.31"},{"1":"Argentina","2":"2021","3":"10","4":"5","5":"05:54:48","6":"18:54:39","7":"06:06:00","8":"17:54:00","9":"0.97","10":"1021","11":"41","12":"-4.90","13":"13.76","14":"234","15":"19.32","16":"36","17":"0.00","18":"1.90","19":"9.31"},{"1":"Argentina","2":"2021","3":"10","4":"6","5":"05:52:32","6":"18:56:19","7":"06:23:00","8":"19:19:00","9":"0.00","10":"1012","11":"42","12":"-2.99","13":"12.69","14":"239","15":"19.06","16":"100","17":"0.07","18":"4.51","19":"11.70"},{"1":"Argentina","2":"2021","3":"10","4":"7","5":"05:50:17","6":"18:57:58","7":"06:40:00","8":"20:46:00","9":"0.04","10":"1014","11":"56","12":"1.71","13":"10.09","14":"243","15":"17.13","16":"100","17":"0.00","18":"4.25","19":"10.78"},{"1":"Argentina","2":"2021","3":"10","4":"8","5":"05:48:02","6":"18:59:38","7":"06:59:00","8":"22:15:00","9":"0.08","10":"1004","11":"53","12":"3.44","13":"12.36","14":"237","15":"14.92","16":"100","17":"0.00","18":"6.90","19":"12.70"},{"1":"Argentina","2":"2021","3":"10","4":"9","5":"05:45:48","6":"19:01:19","7":"07:22:00","8":"19:00:00","9":"0.12","10":"996","11":"44","12":"3.27","13":"16.68","14":"240","15":"22.57","16":"100","17":"0.26","18":"6.22","19":"18.22"},{"1":"Argentina","2":"2021","3":"10","4":"10","5":"05:43:34","6":"19:03:00","7":"07:54:00","8":"23:43:00","9":"0.16","10":"1007","11":"65","12":"-0.28","13":"10.56","14":"249","15":"17.61","16":"100","17":"0.00","18":"3.09","19":"7.75"},{"1":"Argentina","2":"2021","3":"10","4":"11","5":"05:41:21","6":"19:04:41","7":"08:37:00","8":"01:07:00","9":"0.19","10":"999","11":"43","12":"-4.09","13":"20.29","14":"252","15":"25.96","16":"37","17":"0.00","18":"4.83","19":"9.73"},{"1":"Chile","2":"2021","3":"10","4":"4","5":"05:45:02","6":"18:48:25","7":"05:49:00","8":"16:16:00","9":"0.93","10":"997","11":"66","12":"-0.99","13":"12.76","14":"258","15":"23.26","16":"45","17":"0.84","18":"2.21","19":"5.49"},{"1":"Chile","2":"2021","3":"10","4":"5","5":"05:42:28","6":"18:50:21","7":"06:01:00","8":"17:44:00","9":"0.97","10":"1017","11":"68","12":"-0.82","13":"10.20","14":"236","15":"17.31","16":"38","17":"0.92","18":"1.96","19":"6.54"},{"1":"Chile","2":"2021","3":"10","4":"6","5":"05:39:55","6":"18:52:17","7":"06:13:00","8":"19:14:00","9":"0.00","10":"1001","11":"62","12":"2.25","13":"10.47","14":"254","15":"17.99","16":"27","17":"0.96","18":"1.41","19":"10.11"},{"1":"Chile","2":"2021","3":"10","4":"7","5":"05:37:23","6":"18:54:14","7":"06:25:00","8":"20:47:00","9":"0.04","10":"1008","11":"54","12":"-2.05","13":"7.82","14":"249","15":"15.14","16":"67","17":"0.28","18":"3.03","19":"8.71"},{"1":"Chile","2":"2021","3":"10","4":"8","5":"05:34:51","6":"18:56:11","7":"06:40:00","8":"22:21:00","9":"0.08","10":"993","11":"73","12":"3.32","13":"10.68","14":"247","15":"17.47","16":"99","17":"0.68","18":"4.49","19":"8.40"},{"1":"Chile","2":"2021","3":"10","4":"9","5":"05:32:20","6":"18:58:09","7":"06:58:00","8":"19:00:00","9":"0.12","10":"987","11":"85","12":"4.16","13":"8.87","14":"323","15":"22.73","16":"100","17":"0.69","18":"2.31","19":"10.19"},{"1":"Chile","2":"2021","3":"10","4":"10","5":"05:29:49","6":"19:00:07","7":"07:24:00","8":"23:56:00","9":"0.16","10":"1002","11":"60","12":"-1.33","13":"8.03","14":"269","15":"15.56","16":"100","17":"0.63","18":"2.62","19":"8.28"},{"1":"Chile","2":"2021","3":"10","4":"11","5":"05:27:18","6":"19:02:06","7":"08:02:00","8":"01:23:00","9":"0.19","10":"982","11":"86","12":"2.08","13":"11.01","14":"250","15":"19.60","16":"98","17":"0.96","18":"3.50","19":"5.37"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

### Create New Variables

I’m interested in converting `humidity` and `clouds` into categorical
variables with different levels.

I’ll begin with humidity. Lets say that if \(humidity \le 60\), there is
low humidity, if \(60 < humidity \le 80\), there is medium humidity, and
if \(humidity > 80\), there is high humidity.

``` r
weather <- weather %>% mutate(humidity.status = as.factor(ifelse(humidity > 80, "High", ifelse(humidity >60, "Medium", "Low"))))

weather$humidity.status <- ordered(weather$humidity.status, levels = c("Low", "Medium", "High"))

weather
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["int"],"align":["right"]},{"label":["Month"],"name":[3],"type":["int"],"align":["right"]},{"label":["Day"],"name":[4],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[8],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[10],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[11],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[14],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[16],"type":["int"],"align":["right"]},{"label":["pop"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["humidity.status"],"name":[20],"type":["ord"],"align":["right"]}],"data":[{"1":"Maine, US","2":"2021","3":"10","4":"4","5":"06:39:17","6":"18:13:31","7":"04:07:00","8":"17:49:00","9":"0.93","10":"1021","11":"50","12":"5.14","13":"2.52","14":"36","15":"8.33","16":"83","17":"0.29","18":"5.47","19":"16.99","20":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"5","5":"06:40:29","6":"18:11:42","7":"05:22:00","8":"18:12:00","9":"0.97","10":"1026","11":"69","12":"7.40","13":"1.41","14":"20","15":"1.70","16":"100","17":"0.11","18":"8.09","19":"16.60","20":"Medium"},{"1":"Maine, US","2":"2021","3":"10","4":"6","5":"06:41:41","6":"18:09:53","7":"06:38:00","8":"18:36:00","9":"0.00","10":"1027","11":"53","12":"9.79","13":"1.65","14":"351","15":"2.54","16":"7","17":"0.00","18":"7.91","19":"20.93","20":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"7","5":"06:42:53","6":"18:08:05","7":"07:56:00","8":"19:01:00","9":"0.05","10":"1024","11":"53","12":"9.11","13":"1.67","14":"338","15":"2.52","16":"0","17":"0.00","18":"9.69","19":"21.76","20":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"8","5":"06:44:06","6":"18:06:18","7":"09:15:00","8":"19:31:00","9":"0.08","10":"1019","11":"54","12":"10.29","13":"3.25","14":"56","15":"9.55","16":"7","17":"0.00","18":"10.12","19":"22.75","20":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"9","5":"06:45:19","6":"18:04:31","7":"10:36:00","8":"20:05:00","9":"0.12","10":"1031","11":"63","12":"4.80","13":"2.56","14":"72","15":"6.38","16":"100","17":"0.00","18":"9.63","19":"12.82","20":"Medium"},{"1":"Maine, US","2":"2021","3":"10","4":"10","5":"06:46:32","6":"18:02:45","7":"11:56:00","8":"20:48:00","9":"0.16","10":"1031","11":"60","12":"6.36","13":"3.22","14":"186","15":"5.36","16":"100","17":"0.00","18":"8.57","19":"15.30","20":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"11","5":"06:47:46","6":"18:01:00","7":"13:09:00","8":"21:42:00","9":"0.20","10":"1024","11":"68","12":"10.37","13":"5.05","14":"208","15":"10.67","16":"100","17":"0.00","18":"8.85","19":"17.69","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"4","5":"06:36:17","6":"18:29:23","7":"04:42:00","8":"17:36:00","9":"0.93","10":"1014","11":"74","12":"23.78","13":"10.18","14":"119","15":"10.94","16":"100","17":"1.00","18":"26.97","19":"29.01","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"5","5":"06:36:35","6":"18:28:29","7":"05:41:00","8":"18:15:00","9":"0.97","10":"1015","11":"72","12":"23.15","13":"11.44","14":"100","15":"12.42","16":"75","17":"1.00","18":"28.37","19":"28.82","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"6","5":"06:36:52","6":"18:27:34","7":"06:40:00","8":"18:54:00","9":"0.00","10":"1016","11":"73","12":"23.58","13":"11.28","14":"99","15":"12.36","16":"8","17":"0.55","18":"28.31","19":"28.86","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"7","5":"06:37:11","6":"18:26:40","7":"07:42:00","8":"19:35:00","9":"0.05","10":"1016","11":"73","12":"23.30","13":"10.03","14":"92","15":"10.91","16":"6","17":"0.79","18":"27.95","19":"28.72","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"8","5":"06:37:29","6":"18:25:47","7":"08:45:00","8":"20:19:00","9":"0.08","10":"1014","11":"76","12":"23.82","13":"7.80","14":"99","15":"8.09","16":"4","17":"0.57","18":"28.18","19":"28.83","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"9","5":"06:37:48","6":"18:24:55","7":"09:51:00","8":"21:09:00","9":"0.12","10":"1014","11":"77","12":"24.25","13":"8.30","14":"119","15":"8.74","16":"99","17":"0.97","18":"28.58","19":"28.95","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"10","5":"06:38:08","6":"18:24:02","7":"10:58:00","8":"22:03:00","9":"0.16","10":"1014","11":"74","12":"23.54","13":"8.35","14":"122","15":"8.53","16":"100","17":"1.00","18":"27.60","19":"28.76","20":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"11","5":"06:38:27","6":"18:23:11","7":"12:03:00","8":"23:02:00","9":"0.20","10":"1014","11":"73","12":"23.21","13":"7.99","14":"130","15":"8.15","16":"96","17":"0.52","18":"28.52","19":"28.65","20":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"4","5":"06:36:45","6":"18:38:41","7":"04:59:00","8":"17:33:00","9":"0.93","10":"1013","11":"58","12":"13.69","13":"2.96","14":"103","15":"4.12","16":"89","17":"0.77","18":"12.85","19":"21.87","20":"Low"},{"1":"Colombia","2":"2021","3":"10","4":"5","5":"06:36:38","6":"18:38:10","7":"05:51:00","8":"18:18:00","9":"0.97","10":"1014","11":"74","12":"15.74","13":"2.72","14":"110","15":"4.23","16":"92","17":"1.00","18":"12.82","19":"19.49","20":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"6","5":"06:36:32","6":"18:37:40","7":"06:44:00","8":"19:04:00","9":"0.00","10":"1016","11":"87","12":"15.12","13":"2.45","14":"117","15":"4.31","16":"100","17":"0.95","18":"12.81","19":"18.95","20":"High"},{"1":"Colombia","2":"2021","3":"10","4":"7","5":"06:36:26","6":"18:37:10","7":"07:38:00","8":"19:52:00","9":"0.05","10":"1015","11":"58","12":"13.00","13":"3.38","14":"106","15":"4.79","16":"74","17":"0.80","18":"11.97","19":"22.82","20":"Low"},{"1":"Colombia","2":"2021","3":"10","4":"8","5":"06:36:21","6":"18:36:41","7":"08:34:00","8":"20:43:00","9":"0.08","10":"1014","11":"56","12":"12.91","13":"2.53","14":"101","15":"3.40","16":"88","17":"1.00","18":"12.58","19":"21.10","20":"Low"},{"1":"Colombia","2":"2021","3":"10","4":"9","5":"06:36:16","6":"18:36:12","7":"09:34:00","8":"21:38:00","9":"0.12","10":"1017","11":"83","12":"14.25","13":"1.59","14":"246","15":"2.24","16":"100","17":"0.99","18":"13.13","19":"21.39","20":"High"},{"1":"Colombia","2":"2021","3":"10","4":"10","5":"06:36:12","6":"18:35:43","7":"10:35:00","8":"22:36:00","9":"0.16","10":"1016","11":"80","12":"16.42","13":"1.92","14":"99","15":"2.37","16":"75","17":"1.00","18":"12.89","19":"19.97","20":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"11","5":"06:36:08","6":"18:35:16","7":"11:39:00","8":"23:38:00","9":"0.20","10":"1016","11":"79","12":"15.49","13":"1.68","14":"90","15":"2.27","16":"97","17":"1.00","18":"13.35","19":"18.80","20":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"4","5":"05:57:04","6":"18:53:01","7":"05:49:00","8":"16:32:00","9":"0.93","10":"1007","11":"41","12":"-3.51","13":"15.58","14":"249","15":"23.00","16":"58","17":"0.00","18":"3.65","19":"9.31","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"5","5":"05:54:48","6":"18:54:39","7":"06:06:00","8":"17:54:00","9":"0.97","10":"1021","11":"41","12":"-4.90","13":"13.76","14":"234","15":"19.32","16":"36","17":"0.00","18":"1.90","19":"9.31","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"6","5":"05:52:32","6":"18:56:19","7":"06:23:00","8":"19:19:00","9":"0.00","10":"1012","11":"42","12":"-2.99","13":"12.69","14":"239","15":"19.06","16":"100","17":"0.07","18":"4.51","19":"11.70","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"7","5":"05:50:17","6":"18:57:58","7":"06:40:00","8":"20:46:00","9":"0.04","10":"1014","11":"56","12":"1.71","13":"10.09","14":"243","15":"17.13","16":"100","17":"0.00","18":"4.25","19":"10.78","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"8","5":"05:48:02","6":"18:59:38","7":"06:59:00","8":"22:15:00","9":"0.08","10":"1004","11":"53","12":"3.44","13":"12.36","14":"237","15":"14.92","16":"100","17":"0.00","18":"6.90","19":"12.70","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"9","5":"05:45:48","6":"19:01:19","7":"07:22:00","8":"19:00:00","9":"0.12","10":"996","11":"44","12":"3.27","13":"16.68","14":"240","15":"22.57","16":"100","17":"0.26","18":"6.22","19":"18.22","20":"Low"},{"1":"Argentina","2":"2021","3":"10","4":"10","5":"05:43:34","6":"19:03:00","7":"07:54:00","8":"23:43:00","9":"0.16","10":"1007","11":"65","12":"-0.28","13":"10.56","14":"249","15":"17.61","16":"100","17":"0.00","18":"3.09","19":"7.75","20":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"11","5":"05:41:21","6":"19:04:41","7":"08:37:00","8":"01:07:00","9":"0.19","10":"999","11":"43","12":"-4.09","13":"20.29","14":"252","15":"25.96","16":"37","17":"0.00","18":"4.83","19":"9.73","20":"Low"},{"1":"Chile","2":"2021","3":"10","4":"4","5":"05:45:02","6":"18:48:25","7":"05:49:00","8":"16:16:00","9":"0.93","10":"997","11":"66","12":"-0.99","13":"12.76","14":"258","15":"23.26","16":"45","17":"0.84","18":"2.21","19":"5.49","20":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"5","5":"05:42:28","6":"18:50:21","7":"06:01:00","8":"17:44:00","9":"0.97","10":"1017","11":"68","12":"-0.82","13":"10.20","14":"236","15":"17.31","16":"38","17":"0.92","18":"1.96","19":"6.54","20":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"6","5":"05:39:55","6":"18:52:17","7":"06:13:00","8":"19:14:00","9":"0.00","10":"1001","11":"62","12":"2.25","13":"10.47","14":"254","15":"17.99","16":"27","17":"0.96","18":"1.41","19":"10.11","20":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"7","5":"05:37:23","6":"18:54:14","7":"06:25:00","8":"20:47:00","9":"0.04","10":"1008","11":"54","12":"-2.05","13":"7.82","14":"249","15":"15.14","16":"67","17":"0.28","18":"3.03","19":"8.71","20":"Low"},{"1":"Chile","2":"2021","3":"10","4":"8","5":"05:34:51","6":"18:56:11","7":"06:40:00","8":"22:21:00","9":"0.08","10":"993","11":"73","12":"3.32","13":"10.68","14":"247","15":"17.47","16":"99","17":"0.68","18":"4.49","19":"8.40","20":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"9","5":"05:32:20","6":"18:58:09","7":"06:58:00","8":"19:00:00","9":"0.12","10":"987","11":"85","12":"4.16","13":"8.87","14":"323","15":"22.73","16":"100","17":"0.69","18":"2.31","19":"10.19","20":"High"},{"1":"Chile","2":"2021","3":"10","4":"10","5":"05:29:49","6":"19:00:07","7":"07:24:00","8":"23:56:00","9":"0.16","10":"1002","11":"60","12":"-1.33","13":"8.03","14":"269","15":"15.56","16":"100","17":"0.63","18":"2.62","19":"8.28","20":"Low"},{"1":"Chile","2":"2021","3":"10","4":"11","5":"05:27:18","6":"19:02:06","7":"08:02:00","8":"01:23:00","9":"0.19","10":"982","11":"86","12":"2.08","13":"11.01","14":"250","15":"19.60","16":"98","17":"0.96","18":"3.50","19":"5.37","20":"High"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

Great\! Now let’s look at `clouds`. If \(clouds \le 25\), then cloud
coverage is low. If \(clouds > 75\) then cloud coverage is high, and
anything in between is medium.

``` r
weather <- weather %>% mutate(cloud.coverage = as.factor(ifelse(clouds > 75, "High", ifelse(clouds > 25, "Medium", "Low"))))

weather$cloud.coverage <- ordered(weather$cloud.coverage, levels = c("Low", "Medium", "High"))

weather
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["int"],"align":["right"]},{"label":["Month"],"name":[3],"type":["int"],"align":["right"]},{"label":["Day"],"name":[4],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[5],"type":["chr"],"align":["left"]},{"label":["Sunset"],"name":[6],"type":["chr"],"align":["left"]},{"label":["Moonrise"],"name":[7],"type":["chr"],"align":["left"]},{"label":["Moonset"],"name":[8],"type":["chr"],"align":["left"]},{"label":["moon_phase"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[10],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[11],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[14],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[16],"type":["int"],"align":["right"]},{"label":["pop"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["humidity.status"],"name":[20],"type":["ord"],"align":["right"]},{"label":["cloud.coverage"],"name":[21],"type":["ord"],"align":["right"]}],"data":[{"1":"Maine, US","2":"2021","3":"10","4":"4","5":"06:39:17","6":"18:13:31","7":"04:07:00","8":"17:49:00","9":"0.93","10":"1021","11":"50","12":"5.14","13":"2.52","14":"36","15":"8.33","16":"83","17":"0.29","18":"5.47","19":"16.99","20":"Low","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"5","5":"06:40:29","6":"18:11:42","7":"05:22:00","8":"18:12:00","9":"0.97","10":"1026","11":"69","12":"7.40","13":"1.41","14":"20","15":"1.70","16":"100","17":"0.11","18":"8.09","19":"16.60","20":"Medium","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"6","5":"06:41:41","6":"18:09:53","7":"06:38:00","8":"18:36:00","9":"0.00","10":"1027","11":"53","12":"9.79","13":"1.65","14":"351","15":"2.54","16":"7","17":"0.00","18":"7.91","19":"20.93","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"7","5":"06:42:53","6":"18:08:05","7":"07:56:00","8":"19:01:00","9":"0.05","10":"1024","11":"53","12":"9.11","13":"1.67","14":"338","15":"2.52","16":"0","17":"0.00","18":"9.69","19":"21.76","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"8","5":"06:44:06","6":"18:06:18","7":"09:15:00","8":"19:31:00","9":"0.08","10":"1019","11":"54","12":"10.29","13":"3.25","14":"56","15":"9.55","16":"7","17":"0.00","18":"10.12","19":"22.75","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"9","5":"06:45:19","6":"18:04:31","7":"10:36:00","8":"20:05:00","9":"0.12","10":"1031","11":"63","12":"4.80","13":"2.56","14":"72","15":"6.38","16":"100","17":"0.00","18":"9.63","19":"12.82","20":"Medium","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"10","5":"06:46:32","6":"18:02:45","7":"11:56:00","8":"20:48:00","9":"0.16","10":"1031","11":"60","12":"6.36","13":"3.22","14":"186","15":"5.36","16":"100","17":"0.00","18":"8.57","19":"15.30","20":"Low","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"11","5":"06:47:46","6":"18:01:00","7":"13:09:00","8":"21:42:00","9":"0.20","10":"1024","11":"68","12":"10.37","13":"5.05","14":"208","15":"10.67","16":"100","17":"0.00","18":"8.85","19":"17.69","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"4","5":"06:36:17","6":"18:29:23","7":"04:42:00","8":"17:36:00","9":"0.93","10":"1014","11":"74","12":"23.78","13":"10.18","14":"119","15":"10.94","16":"100","17":"1.00","18":"26.97","19":"29.01","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"5","5":"06:36:35","6":"18:28:29","7":"05:41:00","8":"18:15:00","9":"0.97","10":"1015","11":"72","12":"23.15","13":"11.44","14":"100","15":"12.42","16":"75","17":"1.00","18":"28.37","19":"28.82","20":"Medium","21":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"6","5":"06:36:52","6":"18:27:34","7":"06:40:00","8":"18:54:00","9":"0.00","10":"1016","11":"73","12":"23.58","13":"11.28","14":"99","15":"12.36","16":"8","17":"0.55","18":"28.31","19":"28.86","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"7","5":"06:37:11","6":"18:26:40","7":"07:42:00","8":"19:35:00","9":"0.05","10":"1016","11":"73","12":"23.30","13":"10.03","14":"92","15":"10.91","16":"6","17":"0.79","18":"27.95","19":"28.72","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"8","5":"06:37:29","6":"18:25:47","7":"08:45:00","8":"20:19:00","9":"0.08","10":"1014","11":"76","12":"23.82","13":"7.80","14":"99","15":"8.09","16":"4","17":"0.57","18":"28.18","19":"28.83","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"9","5":"06:37:48","6":"18:24:55","7":"09:51:00","8":"21:09:00","9":"0.12","10":"1014","11":"77","12":"24.25","13":"8.30","14":"119","15":"8.74","16":"99","17":"0.97","18":"28.58","19":"28.95","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"10","5":"06:38:08","6":"18:24:02","7":"10:58:00","8":"22:03:00","9":"0.16","10":"1014","11":"74","12":"23.54","13":"8.35","14":"122","15":"8.53","16":"100","17":"1.00","18":"27.60","19":"28.76","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"11","5":"06:38:27","6":"18:23:11","7":"12:03:00","8":"23:02:00","9":"0.20","10":"1014","11":"73","12":"23.21","13":"7.99","14":"130","15":"8.15","16":"96","17":"0.52","18":"28.52","19":"28.65","20":"Medium","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"4","5":"06:36:45","6":"18:38:41","7":"04:59:00","8":"17:33:00","9":"0.93","10":"1013","11":"58","12":"13.69","13":"2.96","14":"103","15":"4.12","16":"89","17":"0.77","18":"12.85","19":"21.87","20":"Low","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"5","5":"06:36:38","6":"18:38:10","7":"05:51:00","8":"18:18:00","9":"0.97","10":"1014","11":"74","12":"15.74","13":"2.72","14":"110","15":"4.23","16":"92","17":"1.00","18":"12.82","19":"19.49","20":"Medium","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"6","5":"06:36:32","6":"18:37:40","7":"06:44:00","8":"19:04:00","9":"0.00","10":"1016","11":"87","12":"15.12","13":"2.45","14":"117","15":"4.31","16":"100","17":"0.95","18":"12.81","19":"18.95","20":"High","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"7","5":"06:36:26","6":"18:37:10","7":"07:38:00","8":"19:52:00","9":"0.05","10":"1015","11":"58","12":"13.00","13":"3.38","14":"106","15":"4.79","16":"74","17":"0.80","18":"11.97","19":"22.82","20":"Low","21":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"8","5":"06:36:21","6":"18:36:41","7":"08:34:00","8":"20:43:00","9":"0.08","10":"1014","11":"56","12":"12.91","13":"2.53","14":"101","15":"3.40","16":"88","17":"1.00","18":"12.58","19":"21.10","20":"Low","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"9","5":"06:36:16","6":"18:36:12","7":"09:34:00","8":"21:38:00","9":"0.12","10":"1017","11":"83","12":"14.25","13":"1.59","14":"246","15":"2.24","16":"100","17":"0.99","18":"13.13","19":"21.39","20":"High","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"10","5":"06:36:12","6":"18:35:43","7":"10:35:00","8":"22:36:00","9":"0.16","10":"1016","11":"80","12":"16.42","13":"1.92","14":"99","15":"2.37","16":"75","17":"1.00","18":"12.89","19":"19.97","20":"Medium","21":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"11","5":"06:36:08","6":"18:35:16","7":"11:39:00","8":"23:38:00","9":"0.20","10":"1016","11":"79","12":"15.49","13":"1.68","14":"90","15":"2.27","16":"97","17":"1.00","18":"13.35","19":"18.80","20":"Medium","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"4","5":"05:57:04","6":"18:53:01","7":"05:49:00","8":"16:32:00","9":"0.93","10":"1007","11":"41","12":"-3.51","13":"15.58","14":"249","15":"23.00","16":"58","17":"0.00","18":"3.65","19":"9.31","20":"Low","21":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"5","5":"05:54:48","6":"18:54:39","7":"06:06:00","8":"17:54:00","9":"0.97","10":"1021","11":"41","12":"-4.90","13":"13.76","14":"234","15":"19.32","16":"36","17":"0.00","18":"1.90","19":"9.31","20":"Low","21":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"6","5":"05:52:32","6":"18:56:19","7":"06:23:00","8":"19:19:00","9":"0.00","10":"1012","11":"42","12":"-2.99","13":"12.69","14":"239","15":"19.06","16":"100","17":"0.07","18":"4.51","19":"11.70","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"7","5":"05:50:17","6":"18:57:58","7":"06:40:00","8":"20:46:00","9":"0.04","10":"1014","11":"56","12":"1.71","13":"10.09","14":"243","15":"17.13","16":"100","17":"0.00","18":"4.25","19":"10.78","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"8","5":"05:48:02","6":"18:59:38","7":"06:59:00","8":"22:15:00","9":"0.08","10":"1004","11":"53","12":"3.44","13":"12.36","14":"237","15":"14.92","16":"100","17":"0.00","18":"6.90","19":"12.70","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"9","5":"05:45:48","6":"19:01:19","7":"07:22:00","8":"19:00:00","9":"0.12","10":"996","11":"44","12":"3.27","13":"16.68","14":"240","15":"22.57","16":"100","17":"0.26","18":"6.22","19":"18.22","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"10","5":"05:43:34","6":"19:03:00","7":"07:54:00","8":"23:43:00","9":"0.16","10":"1007","11":"65","12":"-0.28","13":"10.56","14":"249","15":"17.61","16":"100","17":"0.00","18":"3.09","19":"7.75","20":"Medium","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"11","5":"05:41:21","6":"19:04:41","7":"08:37:00","8":"01:07:00","9":"0.19","10":"999","11":"43","12":"-4.09","13":"20.29","14":"252","15":"25.96","16":"37","17":"0.00","18":"4.83","19":"9.73","20":"Low","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"4","5":"05:45:02","6":"18:48:25","7":"05:49:00","8":"16:16:00","9":"0.93","10":"997","11":"66","12":"-0.99","13":"12.76","14":"258","15":"23.26","16":"45","17":"0.84","18":"2.21","19":"5.49","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"5","5":"05:42:28","6":"18:50:21","7":"06:01:00","8":"17:44:00","9":"0.97","10":"1017","11":"68","12":"-0.82","13":"10.20","14":"236","15":"17.31","16":"38","17":"0.92","18":"1.96","19":"6.54","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"6","5":"05:39:55","6":"18:52:17","7":"06:13:00","8":"19:14:00","9":"0.00","10":"1001","11":"62","12":"2.25","13":"10.47","14":"254","15":"17.99","16":"27","17":"0.96","18":"1.41","19":"10.11","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"7","5":"05:37:23","6":"18:54:14","7":"06:25:00","8":"20:47:00","9":"0.04","10":"1008","11":"54","12":"-2.05","13":"7.82","14":"249","15":"15.14","16":"67","17":"0.28","18":"3.03","19":"8.71","20":"Low","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"8","5":"05:34:51","6":"18:56:11","7":"06:40:00","8":"22:21:00","9":"0.08","10":"993","11":"73","12":"3.32","13":"10.68","14":"247","15":"17.47","16":"99","17":"0.68","18":"4.49","19":"8.40","20":"Medium","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"9","5":"05:32:20","6":"18:58:09","7":"06:58:00","8":"19:00:00","9":"0.12","10":"987","11":"85","12":"4.16","13":"8.87","14":"323","15":"22.73","16":"100","17":"0.69","18":"2.31","19":"10.19","20":"High","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"10","5":"05:29:49","6":"19:00:07","7":"07:24:00","8":"23:56:00","9":"0.16","10":"1002","11":"60","12":"-1.33","13":"8.03","14":"269","15":"15.56","16":"100","17":"0.63","18":"2.62","19":"8.28","20":"Low","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"11","5":"05:27:18","6":"19:02:06","7":"08:02:00","8":"01:23:00","9":"0.19","10":"982","11":"86","12":"2.08","13":"11.01","14":"250","15":"19.60","16":"98","17":"0.96","18":"3.50","19":"5.37","20":"High","21":"High"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

### Contingency Tables

With the new categorical variables I’ve created, let’s create some
contingency tables. `tabz1` will show the counts of observations within
each level combination of `cloud.coverage` and `humidity.status`.

``` r
tabz1 <- table(weather$humidity.status, weather$cloud.coverage, deparse.level = 2)

tabz1
```

    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      3      5    9
    ##                  Medium   3      5   11
    ##                  High     0      0    4

It looks like there were 10 forecast observations that predicted high
cloud coverage and low humidity, and 12 observations that predicted high
cloud coverage and medium humidity. There weren’t many observations that
predicted high humidity, but it appears that when high humidity was
predicted, it was most often coupled with high cloud coverage.

`tabz2` will show the counts of days within each level combination of
`cloud.coverage` and `humidity.status`, separated by `location`.

``` r
tabz2 <- table(weather$humidity.status, weather$cloud.coverage, weather$location, deparse.level = 2)

tabz2
```

    ## , , weather$location = Argentina
    ## 
    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      0      3    4
    ##                  Medium   0      0    1
    ##                  High     0      0    0
    ## 
    ## , , weather$location = Chile
    ## 
    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      0      1    1
    ##                  Medium   0      3    1
    ##                  High     0      0    2
    ## 
    ## , , weather$location = Colombia
    ## 
    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      0      1    2
    ##                  Medium   0      1    2
    ##                  High     0      0    2
    ## 
    ## , , weather$location = Maine, US
    ## 
    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      3      0    2
    ##                  Medium   0      0    3
    ##                  High     0      0    0
    ## 
    ## , , weather$location = Turks & Caicos
    ## 
    ##                        weather$cloud.coverage
    ## weather$humidity.status Low Medium High
    ##                  Low      0      0    0
    ##                  Medium   3      1    4
    ##                  High     0      0    0

This table gives us an idea of how the relationship between humidity
status and cloud coverage can change based on location. An observation
to note is that Maine and Argentina, locations close to the poles, most
often have low humidity in this dataset. However, the low humidity is
more frequently coupled with high cloud coverage in Argentina and low
cloud coverage in Maine. I’d be interested to find out why this is the
case, or if the data only appears this way because we’re not working
with many observations. Also, it’s interesting that Chile, the location
closest to the south pole, has a range of humidity although it’s close
to the Argentina location.

### Numerical Summaries

Now that we’ve explored our categorical variables, let’s take a look at
some numeric summaries.

The table below lists the average maximum temperature, average minimum
temperature, their respective standard deviations, and the interquartile
range for each location.

``` r
weather$location <- ordered(weather$location, levels = c("Chile", "Argentina", "Colombia", "Turks & Caicos", "Maine, US")) #convert location into an ordered variable

weather %>% group_by(location) %>% summarise(avghigh = mean(maxtemp), avglow = mean(mintemp), sdhigh = sd(maxtemp), sdlow = sd(mintemp), IQR = IQR(maxtemp))
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["ord"],"align":["right"]},{"label":["avghigh"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["avglow"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sdhigh"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["sdlow"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["IQR"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Chile","2":"7.88625","3":"2.69125","4":"1.8987134","5":"0.9682597","6":"2.7825"},{"1":"Argentina","2":"11.18750","3":"4.41875","4":"3.2329365","5":"1.6172149","6":"2.6400"},{"1":"Colombia","2":"20.54875","3":"12.80000","4":"1.4631613","5":"0.4070451","6":"2.1550"},{"1":"Turks & Caicos","2":"28.82500","3":"28.06000","4":"0.1177164","5":"0.5433757","6":"0.1325"},{"1":"Maine, US","2":"18.10500","3":"8.54125","4":"3.4308558","5":"1.4700966","6":"4.8625"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

It’s clear that the average high and average low peak near the middle of
the globe, with greater variation near the poles. These numbers could
not only be affected by latitude, but also by elevation.

Now we’ll look at the average humidity forecasted for each location, as
well as their standard deviations.

``` r
weather %>% group_by(location) %>% summarise(avg_humidity = mean(humidity), sd.humidity = sd(humidity))
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["ord"],"align":["right"]},{"label":["avg_humidity"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["sd.humidity"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Chile","2":"69.250","3":"11.498447"},{"1":"Argentina","2":"48.125","3":"8.887190"},{"1":"Colombia","2":"71.875","3":"12.597477"},{"1":"Turks & Caicos","2":"74.000","3":"1.690309"},{"1":"Maine, US","2":"58.750","3":"7.324128"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

Here we see a clear relationship between location (organized by
latitude) and humidity. The locations nearest to the poles generally
have the lowest humidity, but the Turks and Caicos Islands as well as
the Chile location have the highest humidity, most likely because they
are close to or in the ocean.

### Data Visualization

Now I’ll use some tools for visualizing the data we’ve collected from
the API.

Let’s visualize the second contingency table we made above using a bar
graph with `humidity.status` and `cloud.coverage`, separating the
results by `location`.

``` r
sum.tab <- weather %>% group_by(location, humidity.status, cloud.coverage) %>% summarise(count = n())

g6 <- ggplot(sum.tab, aes(x = humidity.status, y = count))

g6 + geom_bar(aes(fill = cloud.coverage), stat = "identity", position = "dodge") + facet_wrap(~ location) + labs(title = "8 Day Forecast: Humidity Status vs. Cloud Coverage by Location", x = "Humidity Status") + scale_fill_discrete(name = "Cloud Coverage") + theme(axis.text.x = element_text(angle = 45, vjust = .8, hjust = 1))
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/bar%20graph-1.png)<!-- -->

Here we can see the observation we made earlier about Maine and
Argentina having low humidity, but most often low or high cloud
coverage, respectively. In addition, it’s also easier to see that the
forecast for Chile is mostly medium humidity and high cloud coverage. A
puzzling observation is that Turks and Caicos always has medium
humidity, but either low or high cloud coverage.

Next, I’ll look at how location affects minimum and maximum daily
temperature using boxplots.

``` r
max.means <- weather %>% group_by(location) %>% summarise(average = mean(maxtemp)) 

g <- ggplot(weather, aes(x = location, y = maxtemp))

g + geom_boxplot(fill = "grey") + geom_point(max.means, mapping = aes(x = location, y = average), color = "purple") + geom_line(max.means, mapping = aes(x = location, y = average, group = 1), color = "purple") + labs(title = "8 Day Forecast: Maximum Daily Temperature",x = "Location (highest to lowest latitude)", y = "Maximum Daily Temperature (C)") + coord_flip()
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/maxtemp%20boxplot-1.png)<!-- -->

``` r
min.means <- weather %>% group_by(location) %>% summarise(average = mean(mintemp))

g1 <- ggplot(weather, aes(x = location, y = mintemp))

g1 + geom_boxplot(fill = "grey") + geom_point(min.means, mapping = aes(x = location, y = average), color = "green") + geom_line(min.means, mapping = aes(x = location, y = average, group = 1), color = "green") + labs(title = "8 Day Forecast: Minimum Daily Temperature", x = "Location (highest to lowest latitude)", y = "Minimum Daily Temperature (C)") + coord_flip()
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/mintemp%20boxplot-1.png)<!-- -->

Both boxplots are fairly consistent with each other, showing Turks and
Caicos as having the highest minimum and maximum temperature, and
locations at the highest and lowest latitudes as having the lowest
minimum and maximum temperatures. Although Cucata, Colombia is closer to
the equator than Turks and Caicos Islands, a possible reason as to why
it may not be warmer is its elevation at 320 meters (1,050 ft).

Now we’ll turn to exploring `humidity` as a quantitative variable,
creating a histogram with density plots of `humidity` facetted by
`location`. We’ll also create a boxplot of the same information.

``` r
g2 <- ggplot(weather, aes(x = humidity))

g2 + geom_histogram(bins = 20, aes(y = ..density..)) + geom_density(color = "aquamarine", fill = "aquamarine") + facet_wrap(~location) + labs(title = "8 Day Forecast: Histogram of Humidity by Location", x = "Humidity (%)")
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/humidity%20hist%20and%20density%20plot-1.png)<!-- -->

``` r
hum.means <- weather %>% group_by(location) %>% summarise(average = mean(humidity))

g3 <- ggplot(weather, aes(x = location, y = humidity))

g3 + geom_boxplot(fill = "grey") + geom_point(hum.means, mapping = aes(x = location, y = average), color = "red") + geom_line(hum.means, mapping = aes(x = location, y = average, group = 1), color = "red") + labs(title = "8 Day Forecast: Average Daily Humidity by Location", x = "Location (highest to lowest latitude)", y = "Average Daily Humidity (C)") + coord_flip()
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/humidity%20boxplot-1.png)<!-- -->

This histogram and boxplot are very helpful in displaying how humidity
varies by location. While Argentina and Maine consistently show lower
humidity levels, Turks and Caicos is vary consistent in showing high
humidity, while Colombia and Chile’s humidities are less consistent.

To prepare for the next plot, I’ll convert all variables with timestamps
to numeric variables of time since 00:00:00, calculated in minutes.

``` r
weather$Sunrise <- round(60 * 24 * as.numeric(times(weather$Sunrise)),digits = 2)

weather$Sunset <- round(60 * 24 * as.numeric(times(weather$Sunset)),digits = 2)

weather$Moonrise <- round(60 * 24 * as.numeric(times(weather$Moonrise)), digits = 2)

weather$Moonset <- round(60 * 24 * as.numeric(times(weather$Moonset)), digits = 2)

weather
```

<div data-pagedtable="false">

<script data-pagedtable-source type="application/json">
{"columns":[{"label":["location"],"name":[1],"type":["ord"],"align":["right"]},{"label":["Year"],"name":[2],"type":["int"],"align":["right"]},{"label":["Month"],"name":[3],"type":["int"],"align":["right"]},{"label":["Day"],"name":[4],"type":["int"],"align":["right"]},{"label":["Sunrise"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Sunset"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["Moonrise"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Moonset"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["moon_phase"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["pressure"],"name":[10],"type":["int"],"align":["right"]},{"label":["humidity"],"name":[11],"type":["int"],"align":["right"]},{"label":["dew_point"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["wind_speed"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["wind_deg"],"name":[14],"type":["int"],"align":["right"]},{"label":["wind_gust"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["clouds"],"name":[16],"type":["int"],"align":["right"]},{"label":["pop"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["mintemp"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["maxtemp"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["humidity.status"],"name":[20],"type":["ord"],"align":["right"]},{"label":["cloud.coverage"],"name":[21],"type":["ord"],"align":["right"]}],"data":[{"1":"Maine, US","2":"2021","3":"10","4":"4","5":"399.28","6":"1093.52","7":"247","8":"1069","9":"0.93","10":"1021","11":"50","12":"5.14","13":"2.52","14":"36","15":"8.33","16":"83","17":"0.29","18":"5.47","19":"16.99","20":"Low","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"5","5":"400.48","6":"1091.70","7":"322","8":"1092","9":"0.97","10":"1026","11":"69","12":"7.40","13":"1.41","14":"20","15":"1.70","16":"100","17":"0.11","18":"8.09","19":"16.60","20":"Medium","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"6","5":"401.68","6":"1089.88","7":"398","8":"1116","9":"0.00","10":"1027","11":"53","12":"9.79","13":"1.65","14":"351","15":"2.54","16":"7","17":"0.00","18":"7.91","19":"20.93","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"7","5":"402.88","6":"1088.08","7":"476","8":"1141","9":"0.05","10":"1024","11":"53","12":"9.11","13":"1.67","14":"338","15":"2.52","16":"0","17":"0.00","18":"9.69","19":"21.76","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"8","5":"404.10","6":"1086.30","7":"555","8":"1171","9":"0.08","10":"1019","11":"54","12":"10.29","13":"3.25","14":"56","15":"9.55","16":"7","17":"0.00","18":"10.12","19":"22.75","20":"Low","21":"Low"},{"1":"Maine, US","2":"2021","3":"10","4":"9","5":"405.32","6":"1084.52","7":"636","8":"1205","9":"0.12","10":"1031","11":"63","12":"4.80","13":"2.56","14":"72","15":"6.38","16":"100","17":"0.00","18":"9.63","19":"12.82","20":"Medium","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"10","5":"406.53","6":"1082.75","7":"716","8":"1248","9":"0.16","10":"1031","11":"60","12":"6.36","13":"3.22","14":"186","15":"5.36","16":"100","17":"0.00","18":"8.57","19":"15.30","20":"Low","21":"High"},{"1":"Maine, US","2":"2021","3":"10","4":"11","5":"407.77","6":"1081.00","7":"789","8":"1302","9":"0.20","10":"1024","11":"68","12":"10.37","13":"5.05","14":"208","15":"10.67","16":"100","17":"0.00","18":"8.85","19":"17.69","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"4","5":"396.28","6":"1109.38","7":"282","8":"1056","9":"0.93","10":"1014","11":"74","12":"23.78","13":"10.18","14":"119","15":"10.94","16":"100","17":"1.00","18":"26.97","19":"29.01","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"5","5":"396.58","6":"1108.48","7":"341","8":"1095","9":"0.97","10":"1015","11":"72","12":"23.15","13":"11.44","14":"100","15":"12.42","16":"75","17":"1.00","18":"28.37","19":"28.82","20":"Medium","21":"Medium"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"6","5":"396.87","6":"1107.57","7":"400","8":"1134","9":"0.00","10":"1016","11":"73","12":"23.58","13":"11.28","14":"99","15":"12.36","16":"8","17":"0.55","18":"28.31","19":"28.86","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"7","5":"397.18","6":"1106.67","7":"462","8":"1175","9":"0.05","10":"1016","11":"73","12":"23.30","13":"10.03","14":"92","15":"10.91","16":"6","17":"0.79","18":"27.95","19":"28.72","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"8","5":"397.48","6":"1105.78","7":"525","8":"1219","9":"0.08","10":"1014","11":"76","12":"23.82","13":"7.80","14":"99","15":"8.09","16":"4","17":"0.57","18":"28.18","19":"28.83","20":"Medium","21":"Low"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"9","5":"397.80","6":"1104.92","7":"591","8":"1269","9":"0.12","10":"1014","11":"77","12":"24.25","13":"8.30","14":"119","15":"8.74","16":"99","17":"0.97","18":"28.58","19":"28.95","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"10","5":"398.13","6":"1104.03","7":"658","8":"1323","9":"0.16","10":"1014","11":"74","12":"23.54","13":"8.35","14":"122","15":"8.53","16":"100","17":"1.00","18":"27.60","19":"28.76","20":"Medium","21":"High"},{"1":"Turks & Caicos","2":"2021","3":"10","4":"11","5":"398.45","6":"1103.18","7":"723","8":"1382","9":"0.20","10":"1014","11":"73","12":"23.21","13":"7.99","14":"130","15":"8.15","16":"96","17":"0.52","18":"28.52","19":"28.65","20":"Medium","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"4","5":"396.75","6":"1118.68","7":"299","8":"1053","9":"0.93","10":"1013","11":"58","12":"13.69","13":"2.96","14":"103","15":"4.12","16":"89","17":"0.77","18":"12.85","19":"21.87","20":"Low","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"5","5":"396.63","6":"1118.17","7":"351","8":"1098","9":"0.97","10":"1014","11":"74","12":"15.74","13":"2.72","14":"110","15":"4.23","16":"92","17":"1.00","18":"12.82","19":"19.49","20":"Medium","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"6","5":"396.53","6":"1117.67","7":"404","8":"1144","9":"0.00","10":"1016","11":"87","12":"15.12","13":"2.45","14":"117","15":"4.31","16":"100","17":"0.95","18":"12.81","19":"18.95","20":"High","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"7","5":"396.43","6":"1117.17","7":"458","8":"1192","9":"0.05","10":"1015","11":"58","12":"13.00","13":"3.38","14":"106","15":"4.79","16":"74","17":"0.80","18":"11.97","19":"22.82","20":"Low","21":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"8","5":"396.35","6":"1116.68","7":"514","8":"1243","9":"0.08","10":"1014","11":"56","12":"12.91","13":"2.53","14":"101","15":"3.40","16":"88","17":"1.00","18":"12.58","19":"21.10","20":"Low","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"9","5":"396.27","6":"1116.20","7":"574","8":"1298","9":"0.12","10":"1017","11":"83","12":"14.25","13":"1.59","14":"246","15":"2.24","16":"100","17":"0.99","18":"13.13","19":"21.39","20":"High","21":"High"},{"1":"Colombia","2":"2021","3":"10","4":"10","5":"396.20","6":"1115.72","7":"635","8":"1356","9":"0.16","10":"1016","11":"80","12":"16.42","13":"1.92","14":"99","15":"2.37","16":"75","17":"1.00","18":"12.89","19":"19.97","20":"Medium","21":"Medium"},{"1":"Colombia","2":"2021","3":"10","4":"11","5":"396.13","6":"1115.27","7":"699","8":"1418","9":"0.20","10":"1016","11":"79","12":"15.49","13":"1.68","14":"90","15":"2.27","16":"97","17":"1.00","18":"13.35","19":"18.80","20":"Medium","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"4","5":"357.07","6":"1133.02","7":"349","8":"992","9":"0.93","10":"1007","11":"41","12":"-3.51","13":"15.58","14":"249","15":"23.00","16":"58","17":"0.00","18":"3.65","19":"9.31","20":"Low","21":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"5","5":"354.80","6":"1134.65","7":"366","8":"1074","9":"0.97","10":"1021","11":"41","12":"-4.90","13":"13.76","14":"234","15":"19.32","16":"36","17":"0.00","18":"1.90","19":"9.31","20":"Low","21":"Medium"},{"1":"Argentina","2":"2021","3":"10","4":"6","5":"352.53","6":"1136.32","7":"383","8":"1159","9":"0.00","10":"1012","11":"42","12":"-2.99","13":"12.69","14":"239","15":"19.06","16":"100","17":"0.07","18":"4.51","19":"11.70","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"7","5":"350.28","6":"1137.97","7":"400","8":"1246","9":"0.04","10":"1014","11":"56","12":"1.71","13":"10.09","14":"243","15":"17.13","16":"100","17":"0.00","18":"4.25","19":"10.78","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"8","5":"348.03","6":"1139.63","7":"419","8":"1335","9":"0.08","10":"1004","11":"53","12":"3.44","13":"12.36","14":"237","15":"14.92","16":"100","17":"0.00","18":"6.90","19":"12.70","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"9","5":"345.80","6":"1141.32","7":"442","8":"1140","9":"0.12","10":"996","11":"44","12":"3.27","13":"16.68","14":"240","15":"22.57","16":"100","17":"0.26","18":"6.22","19":"18.22","20":"Low","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"10","5":"343.57","6":"1143.00","7":"474","8":"1423","9":"0.16","10":"1007","11":"65","12":"-0.28","13":"10.56","14":"249","15":"17.61","16":"100","17":"0.00","18":"3.09","19":"7.75","20":"Medium","21":"High"},{"1":"Argentina","2":"2021","3":"10","4":"11","5":"341.35","6":"1144.68","7":"517","8":"67","9":"0.19","10":"999","11":"43","12":"-4.09","13":"20.29","14":"252","15":"25.96","16":"37","17":"0.00","18":"4.83","19":"9.73","20":"Low","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"4","5":"345.03","6":"1128.42","7":"349","8":"976","9":"0.93","10":"997","11":"66","12":"-0.99","13":"12.76","14":"258","15":"23.26","16":"45","17":"0.84","18":"2.21","19":"5.49","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"5","5":"342.47","6":"1130.35","7":"361","8":"1064","9":"0.97","10":"1017","11":"68","12":"-0.82","13":"10.20","14":"236","15":"17.31","16":"38","17":"0.92","18":"1.96","19":"6.54","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"6","5":"339.92","6":"1132.28","7":"373","8":"1154","9":"0.00","10":"1001","11":"62","12":"2.25","13":"10.47","14":"254","15":"17.99","16":"27","17":"0.96","18":"1.41","19":"10.11","20":"Medium","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"7","5":"337.38","6":"1134.23","7":"385","8":"1247","9":"0.04","10":"1008","11":"54","12":"-2.05","13":"7.82","14":"249","15":"15.14","16":"67","17":"0.28","18":"3.03","19":"8.71","20":"Low","21":"Medium"},{"1":"Chile","2":"2021","3":"10","4":"8","5":"334.85","6":"1136.18","7":"400","8":"1341","9":"0.08","10":"993","11":"73","12":"3.32","13":"10.68","14":"247","15":"17.47","16":"99","17":"0.68","18":"4.49","19":"8.40","20":"Medium","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"9","5":"332.33","6":"1138.15","7":"418","8":"1140","9":"0.12","10":"987","11":"85","12":"4.16","13":"8.87","14":"323","15":"22.73","16":"100","17":"0.69","18":"2.31","19":"10.19","20":"High","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"10","5":"329.82","6":"1140.12","7":"444","8":"1436","9":"0.16","10":"1002","11":"60","12":"-1.33","13":"8.03","14":"269","15":"15.56","16":"100","17":"0.63","18":"2.62","19":"8.28","20":"Low","21":"High"},{"1":"Chile","2":"2021","3":"10","4":"11","5":"327.30","6":"1142.10","7":"482","8":"83","9":"0.19","10":"982","11":"86","12":"2.08","13":"11.01","14":"250","15":"19.60","16":"98","17":"0.96","18":"3.50","19":"5.37","20":"High","21":"High"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>

</div>

The scatterplot below allows us to look at how sunrise time changes over
the course of 8 days in each location.

``` r
g4 <- ggplot(weather, aes(x = Day, y = Sunrise))

g4 + geom_point(aes(color = location)) + scale_color_discrete(name = "Location") + labs(title = "8 Day Forecast for Sunrise Time by Location", x = "Day of the Month", y = "Sunrise Time (minutes after 12am)")
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/sunrise%20scatterplot-1.png)<!-- -->

I think this plot is especially cool to look at, since one can clearly
distinguish which locations are in the southern hemisphere, and which
are in the northern hemisphere. While the sun is rising increasingly
later in the northern hemisphere, it’s rising increasingly earlier in
the southern hemisphere.

Lastly, we’ll explore the relationship between maximum daily temperature
and daily pressure in the scatterplot below.

``` r
g5 <- ggplot(weather, aes(x = maxtemp, y = pressure))

g5 + geom_point(aes(color = location)) + geom_smooth(method = lm, formula = y~poly(x,2), color = "black") + scale_color_discrete(name = "Location") + labs(title = "8 Day Forecast: Maximum Daily Temperature vs. Daily Pressure", x = "Maximum Daily Temperature (C)", y = "Daily Pressure (millibars)")
```

![](Biggie_WeatherAPI_Project_files/figure-gfm/maxtemp%20vs%20pressure%20scatterplot-1.png)<!-- -->

There seems to be a medium-strength, positive relationship between
temperature and pressure. However, the data from the Turks and Caicos
Islands appears to deviate slightly from the general trend, which is why
I decided to fit a quadratic model. To fit a more accurate model, we may
need to pull data from more locations from the API.

## Final Thoughts

Extracting data from an API follows a generally simple process, although
different APIs have varying syntax for how to assemble the URL.
Hopefully, this vignette was helpful in exemplifying how to access a
typical API, clean the data, and perform a few basic analyses.

To read my blog post about this project, visit
<http://atbiggie.github.io>.
